<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ama.abstract</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #0a0a0a;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            line-height: 1.7;
            min-height: 100vh;
            letter-spacing: 0.5px;
        }
        
        .container {
            display: grid;
            grid-template-columns: 300px 1fr;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        /* Sidebar - Darker */
        .sidebar {
            background-color: #111;
            border-right: 1px solid #222;
            padding: 40px 25px;
            height: 100vh;
            position: sticky;
            top: 0;
            overflow-y: auto;
        }
        
        .logo {
            font-size: 1.4em;
            margin-bottom: 50px;
            padding-bottom: 25px;
            border-bottom: 1px solid #333;
            letter-spacing: 2px;
            color: #fff;
            font-weight: normal;
        }
        
        /* Triad Navigation */
        .triad-nav {
            margin-bottom: 50px;
        }
        
        .triad-title {
            font-size: 0.8em;
            color: #888;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .triad-item {
            padding: 18px 20px;
            margin-bottom: 8px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.3s;
            font-size: 1em;
            background-color: #1a1a1a;
        }
        
        .triad-item:hover {
            background-color: #222;
            border-left-color: #666;
        }
        
        .triad-item.active {
            background-color: #222;
            border-left-color: #fff;
            color: #fff;
        }
        
        .triad-item .symbol {
            margin-right: 10px;
            opacity: 0.7;
        }
        
        /* Poem List */
        .poem-list {
            list-style: none;
        }
        
        .poem-item {
            padding: 14px 20px;
            margin-bottom: 6px;
            cursor: pointer;
            border-left: 2px solid transparent;
            transition: all 0.2s;
            font-size: 0.95em;
            opacity: 0.8;
        }
        
        .poem-item:hover {
            background-color: #1a1a1a;
            opacity: 1;
            border-left-color: #555;
        }
        
        .poem-item.active {
            background-color: #222;
            opacity: 1;
            border-left-color: #fff;
        }
        
        .poem-meta {
            font-size: 0.8em;
            color: #777;
            margin-top: 8px;
            font-style: italic;
        }
        
        /* Main Content - Minimal Black */
        .main {
            padding: 50px;
            background-color: #0a0a0a;
        }
        
        .typewriter-container {
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Header */
        .poem-header {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid #222;
        }
        
        .triad-indicator {
            display: inline-block;
            font-size: 0.75em;
            background-color: #222;
            padding: 4px 12px;
            border-radius: 2px;
            margin-bottom: 15px;
            color: #aaa;
            letter-spacing: 1px;
        }
        
        .poem-title {
            font-size: 2.2em;
            color: #fff;
            margin-bottom: 10px;
            font-weight: normal;
            letter-spacing: 1px;
        }
        
        .poem-date {
            font-size: 0.9em;
            color: #777;
            font-style: italic;
        }
        
        /* Typewriter Area */
        .typewriter {
            min-height: 400px;
            margin-bottom: 50px;
            padding-left: 20px;
            border-left: 1px solid #333;
        }
        
        .line {
            margin-bottom: 1.8em;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeInUp 0.5s forwards;
            color: #ccc;
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .cursor {
            display: inline-block;
            width: 2px;
            height: 1.4em;
            background-color: #fff;
            margin-left: 4px;
            animation: blink 1s infinite;
            vertical-align: middle;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Controls - Minimal */
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #222;
        }
        
        .btn {
            background: transparent;
            border: 1px solid #333;
            padding: 10px 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #ccc;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
            letter-spacing: 1px;
        }
        
        .btn:hover {
            background-color: #222;
            border-color: #555;
            color: #fff;
        }
        
        .btn.active {
            background-color: #333;
            border-color: #666;
            color: #fff;
        }
        
        /* Stats - Subtle */
        .stats {
            background-color: #111;
            padding: 20px;
            margin-top: 50px;
            border-radius: 2px;
            font-size: 0.85em;
            color: #888;
            border: 1px solid #222;
        }
        
        .stats-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #222;
        }
        
        .stats-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        /* Responsive */
        @media (max-width: 900px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                height: auto;
                position: static;
                border-right: none;
                border-bottom: 1px solid #222;
            }
            
            .main {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar with Triad Navigation -->
        <div class="sidebar">
            <div class="logo">ama.abstract</div>
            
            <div class="triad-nav">
                <div class="triad-title">THEMES</div>
                <div class="triad-item active" data-triad="flesh">
                    <span class="symbol"></span>ME
                </div>
                <div class="triad-item" data-triad="soul">
                    <span class="symbol"></span>MYSELF
                </div>
                <div class="triad-item" data-triad="spirit">
                    <span class="symbol"></span>I
                </div>
            </div>
            
            <div class="triad-title" id="triadTitle">ME</div>
            <ul class="poem-list" id="poemList">
                <!-- Poems will be loaded here -->
            </ul>
            
            <div class="stats">
                <div class="stats-item">
                    <span>poems in triad:</span>
                    <span id="triadCount">4</span>
                </div>
                <div class="stats-item">
                    <span>total lines:</span>
                    <span id="totalLines">48</span>
                </div>
                <div class="stats-item">
                    <span>last entry:</span>
                    <span>tonight</span>
                </div>
            </div>
        </div>
        
        <!-- Main Typewriter Area -->
        <div class="main">
            <div class="typewriter-container">
                <div class="poem-header">
                    <div class="triad-indicator" id="triadIndicator">ME</div>
                    <h1 class="poem-title" id="currentTitle">Skin Memory</h1>
                    <div class="poem-date" id="currentDate">December 2023</div>
                </div>
                
                <div class="typewriter" id="typewriter">
                    <!-- Poem will be typed here -->
                </div>
                
                <div class="controls">
                    <button class="btn" id="prevBtn">← PREV</button>
                    <button class="btn" id="nextBtn">NEXT →</button>
                    <button class="btn" id="playBtn">▶ PLAY</button>
                    <button class="btn" id="pauseBtn">⏸ PAUSE</button>
                    <button class="btn" id="speedBtn">NORMAL</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Poems organized by triad: FLESH, SOUL, SPIRIT
        const poems = {
            flesh: [
                {
                    id: 1,
                    title: "Skin Memory",
                    lines: [
                        "the body keeps score",
                        "in scars and stretchmarks",
                        "silver lines on pale canvas",
                        "stories written in flesh",
                        "",
                        "muscles remember tension",
                        "bones recall cold floors",
                        "hands remember touch",
                        "long after touch is gone",
                        "",
                        "this temple of meat and blood",
                        "this temporary housing",
                        "decaying even as it breathes",
                        "beautiful in its ruin"
                    ],
                    date: "December 2023",
                    theme: "mortality"
                },
                {
                    id: 2,
                    title: "Bone Cathedral",
                    lines: [
                        "these ribs form arches",
                        "holding up fragile skin",
                        "a cathedral of calcium",
                        "hollow and resonant",
                        "",
                        "kneecaps like river stones",
                        "smooth from constant prayer",
                        "vertebrae a rosary",
                        "counted in sleepless nights",
                        "",
                        "oh this architecture of ache",
                        "this scaffolding of pain",
                        "holding up consciousness",
                        "until the final collapse"
                    ],
                    date: "November 2023",
                    theme: "anatomy"
                },
                {
                    id: 3,
                    title: "Heart's Machinery",
                    lines: [
                        "pump and valve",
                        "steady rhythm",
                        "an engine of blood",
                        "behind breastbone",
                        "",
                        "it doesn't feel",
                        "only pushes",
                        "fluid through tubes",
                        "mechanical duty",
                        "",
                        "yet we call it love",
                        "this hydraulic system",
                        "this wet clockwork",
                        "ticking toward silence"
                    ],
                    date: "January 2024",
                    theme: "mechanical"
                }
            ],
            soul: [
                {
                    id: 4,
                    title: "Ghost in the Machine",
                    lines: [
                        "something moves within",
                        "behind the eyes",
                        "in the spaces between thoughts",
                        "a tenant in flesh",
                        "",
                        "not the brain's electricity",
                        "nor the heart's rhythm",
                        "but a quieter presence",
                        "watching itself exist",
                        "",
                        "the witness to suffering",
                        "the feeler of feelings",
                        "trapped in biology",
                        "but not of it"
                    ],
                    date: "February 2024",
                    theme: "consciousness"
                },
                {
                    id: 5,
                    title: "Melancholy's Weight",
                    lines: [
                        "sadness has mass",
                        "it fills the chest cavity",
                        "presses on lungs",
                        "makes breathing work",
                        "",
                        "not a mood but a gravity",
                        "pulling everything downward",
                        "thoughts like lead",
                        "emotions like stone",
                        "",
                        "yet in this heaviness",
                        "there's a strange comfort",
                        "the certainty of descent",
                        "in a falling world"
                    ],
                    date: "March 2024",
                    theme: "melancholy"
                },
                {
                    id: 6,
                    title: "Echo Chamber",
                    lines: [
                        "memory's gallery",
                        "endless hallways",
                        "of what was said",
                        "and what was not",
                        "",
                        "voices from years past",
                        "bouncing off bone walls",
                        "never fading completely",
                        "just growing softer",
                        "",
                        "the soul is haunted",
                        "by its own history",
                        "a ghost to itself",
                        "in its own house"
                    ],
                    date: "October 2023",
                    theme: "memory"
                }
            ],
            spirit: [
                {
                    id: 7,
                    title: "Holy Sparks",
                    lines: [
                        "sometimes light breaks through",
                        "cracks in the mundane",
                        "illuminating dust motes",
                        "making them holy",
                        "",
                        "a moment of connection",
                        "that feels like remembering",
                        "something forgotten",
                        "from before the world",
                        "",
                        "these glimpses of something",
                        "larger than self",
                        "brief and beautiful",
                        "and then gone"
                    ],
                    date: "April 2024",
                    theme: "transcendence"
                },
                {
                    id: 8,
                    title: "Prayer Without Words",
                    lines: [
                        "not kneeling or speaking",
                        "but breathing and being",
                        "an offering of attention",
                        "to the present moment",
                        "",
                        "the silent communion",
                        "with whatever listens",
                        "in the spaces between",
                        "heartbeats and thoughts",
                        "",
                        "this is my worship:",
                        "staying awake",
                        "to the miracle",
                        "of existing at all"
                    ],
                    date: "May 2024",
                    theme: "spirituality"
                },
                {
                    id: 9,
                    title: "Eternal Fragment",
                    lines: [
                        "a shard of forever",
                        "trapped in time",
                        "dressed in temporary",
                        "flesh and thought",
                        "",
                        "this part that remembers",
                        "it was never born",
                        "and will never die",
                        "only change form",
                        "",
                        "the eternal passenger",
                        "in the mortal vehicle",
                        "watching the scenery",
                        "until the ride ends"
                    ],
                    date: "June 2024",
                    theme: "eternity"
                }
            ]
        };

        // State
        let currentTriad = 'flesh';
        let currentPoemIndex = 0;
        let currentLine = 0;
        let isTyping = false;
        let isPlaying = false;
        let typingSpeed = 60;
        let typeTimeout;

        // DOM Elements
        const typewriter = document.getElementById('typewriter');
        const poemList = document.getElementById('poemList');
        const triadTitle = document.getElementById('triadTitle');
        const triadIndicator = document.getElementById('triadIndicator');
        const currentTitle = document.getElementById('currentTitle');
        const currentDate = document.getElementById('currentDate');
        const triadCount = document.getElementById('triadCount');
        const totalLines = document.getElementById('totalLines');
        
        const triadItems = document.querySelectorAll('.triad-item');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const speedBtn = document.getElementById('speedBtn');

        // Initialize
        function init() {
            updateStats();
            renderPoemList();
            loadPoem(currentTriad, currentPoemIndex);
            activateTriad('flesh');
        }

        // Triad Navigation
        function activateTriad(triad) {
            currentTriad = triad;
            currentPoemIndex = 0;
            
            // Update triad items
            triadItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.triad === triad) {
                    item.classList.add('active');
                }
            });
            
            // Update UI
            triadTitle.textContent = `${triad.toUpperCase()} POEMS`;
            triadIndicator.textContent = triad.toUpperCase();
            
            // Reload poems
            updateStats();
            renderPoemList();
            loadPoem(currentTriad, currentPoemIndex);
        }

        // Update statistics
        function updateStats() {
            const currentPoems = poems[currentTriad];
            triadCount.textContent = currentPoems.length;
            
            // Calculate total lines in current triad
            const total = currentPoems.reduce((sum, poem) => sum + poem.lines.length, 0);
            totalLines.textContent = total;
        }

        // Render poem list for current triad
        function renderPoemList() {
            poemList.innerHTML = '';
            const currentPoems = poems[currentTriad];
            
            currentPoems.forEach((poem, index) => {
                const li = document.createElement('li');
                li.className = `poem-item ${index === currentPoemIndex ? 'active' : ''}`;
                li.innerHTML = `
                    <div>${poem.title}</div>
                    <div class="poem-meta">${poem.theme}</div>
                `;
                li.addEventListener('click', () => {
                    if (isTyping) return;
                    currentPoemIndex = index;
                    updateActivePoem();
                    loadPoem(currentTriad, currentPoemIndex);
                });
                poemList.appendChild(li);
            });
        }

        function updateActivePoem() {
            document.querySelectorAll('.poem-item').forEach((item, index) => {
                item.classList.toggle('active', index === currentPoemIndex);
            });
        }

        // Load and type a poem
        function loadPoem(triad, index) {
            const poem = poems[triad][index];
            
            // Update header
            currentTitle.textContent = poem.title;
            currentDate.textContent = poem.date;
            
            // Start typing
            startTyping();
        }

        function startTyping() {
            clearTypewriter();
            currentLine = 0;
            isTyping = true;
            isPlaying = true;
            playBtn.classList.add('active');
            pauseBtn.classList.remove('active');
            typeLine();
        }

        function clearTypewriter() {
            typewriter.innerHTML = '';
            clearTimeout(typeTimeout);
            isTyping = false;
        }

        function typeLine() {
            const currentPoems = poems[currentTriad];
            const poem = currentPoems[currentPoemIndex];
            
            if (currentLine >= poem.lines.length) {
                isTyping = false;
                if (isPlaying) {
                    setTimeout(() => {
                        if (isPlaying) nextPoem();
                    }, 2500);
                }
                return;
            }

            const line = poem.lines[currentLine];
            const lineElement = document.createElement('div');
            lineElement.className = 'line';
            typewriter.appendChild(lineElement);

            let charIndex = 0;
            
            const typeChar = () => {
                if (!isPlaying || !isTyping) return;
                
                if (charIndex < line.length) {
                    lineElement.textContent += line.charAt(charIndex);
                    charIndex++;
                    typeTimeout = setTimeout(typeChar, typingSpeed);
                } else {
                    currentLine++;
                    typeTimeout = setTimeout(typeLine, line === "" ? 400 : 900);
                }
            };
            
            typeChar();
        }

        // Navigation
        function nextPoem() {
            const currentPoems = poems[currentTriad];
            currentPoemIndex = (currentPoemIndex + 1) % currentPoems.length;
            updateActivePoem();
            loadPoem(currentTriad, currentPoemIndex);
        }

        function prevPoem() {
            const currentPoems = poems[currentTriad];
            currentPoemIndex = (currentPoemIndex - 1 + currentPoems.length) % currentPoems.length;
            updateActivePoem();
            loadPoem(currentTriad, currentPoemIndex);
        }

        // Controls
        function togglePlay() {
            isPlaying = !isPlaying;
            playBtn.classList.toggle('active', isPlaying);
            pauseBtn.classList.toggle('active', !isPlaying);
            
            if (isPlaying && !isTyping) {
                if (currentLine >= poems[currentTriad][currentPoemIndex].lines.length) {
                    nextPoem();
                } else {
                    isTyping = true;
                    typeLine();
                }
            }
        }

        function pauseTyping() {
            isPlaying = false;
            playBtn.classList.remove('active');
            pauseBtn.classList.add('active');
        }

        function cycleSpeed() {
            const speeds = [
                {label: "SLOW", value: 80},
                {label: "NORMAL", value: 60},
                {label: "FAST", value: 40},
                {label: "INSTANT", value: 0}
            ];
            
            const currentIndex = speeds.findIndex(s => s.value === typingSpeed);
            const nextIndex = (currentIndex + 1) % speeds.length;
            typingSpeed = speeds[nextIndex].value;
            speedBtn.textContent = speeds[nextIndex].label;
        }

        // Event Listeners
        triadItems.forEach(item => {
            item.addEventListener('click', () => {
                pauseTyping();
                activateTriad(item.dataset.triad);
            });
        });

        prevBtn.addEventListener('click', () => {
            pauseTyping();
            prevPoem();
        });

        nextBtn.addEventListener('click', () => {
            pauseTyping();
            nextPoem();
        });

        playBtn.addEventListener('click', togglePlay);
        pauseBtn.addEventListener('click', pauseTyping);
        speedBtn.addEventListener('click', cycleSpeed);

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                pauseTyping();
                nextPoem();
            } else if (e.key === 'ArrowLeft') {
                pauseTyping();
                prevPoem();
            } else if (e.key === ' ' || e.key === 'Spacebar') {
                e.preventDefault();
                togglePlay();
            } else if (e.key === 'Escape') {
                pauseTyping();
            } else if (e.key === '1') {
                pauseTyping();
                activateTriad('flesh');
            } else if (e.key === '2') {
                pauseTyping();
                activateTriad('soul');
            } else if (e.key === '3') {
                pauseTyping();
                activateTriad('spirit');
            }
        });

        // Initialize
        init();
    </script>
</body>
</html>
