<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>poetry.</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #f5f1e8;
            color: #3c2f2f;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 700px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .typewriter {
            border-left: 2px solid #8b7d6b;
            padding-left: 20px;
            min-height: 300px;
        }
        
        .line {
            margin-bottom: 1.2em;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeInUp 0.5s forwards;
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .title {
            font-size: 1.8em;
            margin-bottom: 2em;
            color: #5d4037;
            letter-spacing: 1px;
        }
        
        .cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background-color: #3c2f2f;
            margin-left: 2px;
            animation: blink 1s infinite;
            vertical-align: middle;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .controls {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #d7ccc8;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: transparent;
            border: 1px solid #8b7d6b;
            padding: 8px 16px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #5d4037;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn:hover {
            background-color: #e8dfd6;
        }
        
        .coffee-cup {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 1.5em;
            color: #6d4c41;
            opacity: 0.3;
        }
        
        .poem-info {
            font-size: 0.9em;
            color: #8b7d6b;
            margin-top: 30px;
            font-style: italic;
        }
        
        .index {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 0.8em;
            color: #8b7d6b;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px 10px;
            }
            
            .typewriter {
                padding-left: 10px;
            }
            
            .coffee-cup {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="index">[ poetry index ]</div>
    
    <div class="container">
        <div class="typewriter" id="typewriter">
            <!-- Content will be typed here -->
        </div>
        
        <div class="controls">
            <button class="btn" id="prevBtn">← previous</button>
            <button class="btn" id="nextBtn">next →</button>
            <button class="btn" id="autoBtn">auto type</button>
            <button class="btn" id="clearBtn">clear</button>
        </div>
        
        <div class="poem-info" id="poemInfo"></div>
    </div>
    
    <div class="coffee-cup">☕</div>

    <script>
        const poems = [
            {
                title: "morning coffee",
                lines: [
                    "steam rises",
                    "from the dark surface",
                    "like a prayer",
                    "in the quiet kitchen",
                    "",
                    "the first sip",
                    "burns then comforts",
                    "a familiar ritual",
                    "waking the senses",
                    "",
                    "sunlight through the window",
                    "catches in the swirl",
                    "of cream"
                ],
                date: "october 2023",
                tags: ["ritual", "awakening"]
            },
            {
                title: "late night thoughts",
                lines: [
                    "the clock ticks",
                    "in the silent apartment",
                    "thoughts circle",
                    "like moths around a lamp",
                    "",
                    "memories surface",
                    "then sink again",
                    "in the quiet dark",
                    "",
                    "somewhere a car passes",
                    "headlights sweeping walls",
                    "then gone"
                ],
                date: "november 2023",
                tags: ["insomnia", "memory"]
            },
            {
                title: "train window",
                lines: [
                    "raindrops race",
                    "down the glass",
                    "each taking",
                    "a different path",
                    "",
                    "the world outside",
                    "blurs into watercolor",
                    "stations pass",
                    "without names",
                    "",
                    "movement without motion",
                    "a paradox of travel",
                    "going somewhere",
                    "while sitting still"
                ],
                date: "september 2023",
                tags: ["travel", "observation"]
            },
            {
                title: "empty notebook",
                lines: [
                    "blank pages",
                    "full of potential",
                    "that frightens me",
                    "",
                    "the first mark",
                    "always the hardest",
                    "a commitment",
                    "to imperfection",
                    "",
                    "so i wait",
                    "for the right words",
                    "that never come",
                    "while the empty pages",
                    "whisper possibilities"
                ],
                date: "december 2023",
                tags: ["creation", "doubt"]
            }
        ];

        let currentPoem = 0;
        let currentLine = 0;
        let isTyping = false;
        let autoMode = false;
        let typeInterval;

        const typewriter = document.getElementById('typewriter');
        const poemInfo = document.getElementById('poemInfo');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const autoBtn = document.getElementById('autoBtn');
        const clearBtn = document.getElementById('clearBtn');

        function typeLine() {
            if (currentLine >= poems[currentPoem].lines.length) {
                isTyping = false;
                if (autoMode) {
                    setTimeout(nextPoem, 2000);
                }
                return;
            }

            isTyping = true;
            const line = poems[currentPoem].lines[currentLine];
            
            const lineElement = document.createElement('div');
            lineElement.className = 'line';
            
            typewriter.appendChild(lineElement);
            
            let charIndex = 0;
            const typeChar = () => {
                if (charIndex < line.length) {
                    lineElement.textContent += line.charAt(charIndex);
                    charIndex++;
                    
                    // Random typing speed for natural feel
                    const speed = Math.random() * 30 + 40;
                    setTimeout(typeChar, speed);
                } else {
                    currentLine++;
                    setTimeout(typeLine, line === "" ? 300 : 800);
                }
            };
            
            typeChar();
        }

        function displayPoemInfo() {
            const poem = poems[currentPoem];
            poemInfo.textContent = `${poem.date} • ${poem.tags.join(', ')}`;
        }

        function startTyping() {
            clearTypewriter();
            currentLine = 0;
            typeLine();
            displayPoemInfo();
        }

        function clearTypewriter() {
            typewriter.innerHTML = '';
            isTyping = false;
            clearInterval(typeInterval);
        }

        function nextPoem() {
            currentPoem = (currentPoem + 1) % poems.length;
            startTyping();
        }

        function prevPoem() {
            currentPoem = (currentPoem - 1 + poems.length) % poems.length;
            startTyping();
        }

        function toggleAutoMode() {
            autoMode = !autoMode;
            autoBtn.textContent = autoMode ? 'stop auto' : 'auto type';
            
            if (autoMode) {
                if (!isTyping) {
                    startTyping();
                }
            } else {
                clearInterval(typeInterval);
            }
        }

        // Event listeners
        prevBtn.addEventListener('click', () => {
            if (isTyping) return;
            prevPoem();
        });

        nextBtn.addEventListener('click', () => {
            if (isTyping) return;
            nextPoem();
        });

        autoBtn.addEventListener('click', toggleAutoMode);

        clearBtn.addEventListener('click', () => {
            clearTypewriter();
            autoMode = false;
            autoBtn.textContent = 'auto type';
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' && !isTyping) {
                nextPoem();
            } else if (e.key === 'ArrowLeft' && !isTyping) {
                prevPoem();
            } else if (e.key === ' ' || e.key === 'Spacebar') {
                e.preventDefault();
                toggleAutoMode();
            } else if (e.key === 'Escape') {
                clearTypewriter();
                autoMode = false;
                autoBtn.textContent = 'auto type';
            }
        });

        // Start with first poem
        startTyping();
    </script>
</body>
</html>
